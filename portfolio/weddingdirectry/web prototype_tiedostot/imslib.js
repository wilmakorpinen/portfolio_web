/*! imslib.js 1.12.0 eb54245-68700a1 */
Array.prototype.every||(Array.prototype.every=function(e,t){"use strict";var n,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(n=t),o=0;o<r;){var s;if(o in i&&(s=i[o],!e.call(n,s,o,i)))return!1;o++}return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,o;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),o=0;o<r;){var s;o in i&&(s=i[o],e.call(n,s,o,i)),o++}}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var o,i=parseInt(arguments[1],10)||0;i>=0?o=i:(o=n+i)<0&&(o=0);for(var r;o<n;){if(r=t[o],e===r||e!==e&&r!==r)return!0;o++}return!1}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Date.now||(Date.now=function(){return(new Date).getTime()}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var i,r,s=[];for(i in o)e.call(o,i)&&s.push(i);if(t)for(r=0;r<7;r++)e.call(o,n[r])&&s.push(n[r]);return s}}()),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),function(){function e(e){this.message=e}var t=window.self;(e.prototype=Error()).name="InvalidCharacterError",t.atob||(t.atob=function(t){var n=(t+"").replace(/[=]+$/,"");if(n.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,r=0,s=0,a="";i=n.charAt(s++);~i&&(o=r%4?64*o+i:i,r++%4)?a+=String.fromCharCode(255&o>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a})}(),function(e){e.adobeid=function(e,t){"use strict";var n={};return"object"==typeof window.adobeid?n=window.adobeid:window.opener&&window.opener.adobeid?n=window.opener.adobeid:t.error("Missing window.adobeid, falling back to an empty object"),n.redirect_uri&&n.redirect_uri===window.location.href&&delete n.redirect_uri,n},e.adobeIMS=function(e,t,n,o,i,r,s,a,c,l,d,u){"use strict";function f(e){return e?r.local:r.session}function p(){return r.session}function h(){return!(!t.optimizations||!t.optimizations.fastEvents)}function _(e,o){try{n.callIfFunction(t[e],t,o)}catch(t){this._onError(this.errors.jsException.setException(t,"adobeid."+e))}}function g(e){return!(!e||"ride_AdobeID_acct_disabled"!==e.error)}function m(t){return t.error===e.Errors.RATE_LIMITED}function v(e){return!e||!!(e.error||e.error_flag||e.error_description)}function k(e){e._invalidateTokens(Object.keys(e._accessTokensInfos),function(){e._clearCredentials({updateUI:!0}),e.signIn()})}function I(t,o,i){arguments.length<3&&(i=o,o=t.getAccessToken()),e.getProfile(o,function(e){t.setProfile(e),n.callIfFunction(i,t)},function(e){u.error("Failed to retrieve the profile ",e),m(e)?(y(e,t),n.callIfFunction(i,t)):g(e)?k(t):v(e)?(t._clearCredentials({updateUI:!0}),n.callIfFunction(i,t)):n.callIfFunction(i,t)})}function y(e,t){var n=t.errors.rateLimit.create(e.retryAfter,t.isSignedInUser());t._onError(n)}function b(e,t){M&&(M.closed||M.close(),M=null);var o=[];return Object.keys(t||{}).forEach(function(e){var n=t[e];!0===n?n="yes":!1===n?n="no":n+="",o.push(e+"="+n)}),(M=n.openPopup(e,j,o.join(",")))&&"function"==typeof M.focus&&M.focus(),M}function S(e,t){x.isRequired=e,x.url=t}function T(){return x}var w="adobeid_ims_access_token",E="/",A="adobeid_ims_profile",O="from_ims",R=O+"=true",C="rctx",U=t.popupPageName||"redirectims.html",j="_blank",P={sign_in:{width:500,height:630},sign_up:{width:500,height:800},sign_out:{width:320,height:240},jump:{width:500,height:800},any:{width:500,height:630}},M=null;if(window.adobeIMS)return u.error("adobeIMS already exists. Have you loaded the file twice?"),null;var F,L=t.openidCompatible?"sub":"userId",x={isRequired:!1,url:null},D=null,N=null,H={DomEvents:s.domEventNames,Events:s.types,IMSAPIs:{},errors:{network:{name:"networkError",userMessage:"Network error"},fromApiCallRedirect:{name:"fromApiCallRedirectError",userMessage:"",setMessage:function(e){return this.userMessage=e,this}},avatarPicture:{name:"avatarPictureError",userMessage:"current scopes won't retrieve the user_id"},jsException:{name:"jsExceptionError",message:"",exception:null,setException:function(e,t){return this.exception=e,this.message=t||"",this}},rateLimit:{name:"rate_limit",retryAfter:null,isUserSignedIn:null,create:function(e,t){return{name:this.name,retryAfter:e,isUserSignedIn:t}}}}};return l.trackObject(H),H=n.merge({_initialize:function(){var e=this;s.addEventListener(s.types.PROFILE,function(t){_.call(e,"onProfile",[t.data.profile])}),s.addEventListener(s.types.ACCESS_TOKEN,function(t){_.call(e,"onAccessToken",[t.data.accessTokenInfo.access_token,t.data.accessTokenInfo])}),s.addEventListener(s.types.READY,function(t){_.call(e,"onReady",[t.data.signInState])}),s.addEventListener(s.types.ERROR,function(e){n.callIfFunction(t.onError,t,[e.data.error])});var o=function(){e.isMandatorySignIn()&&!e.isSignedInUser()&&e.signIn()},i=function(){var t=n.cloneObject(e._accessTokensInfos||{}),i=function(){if(o(),e._callCallbacksToUpdateUI(),h()&&!e.isSignedInUser())for(var n in t)t.hasOwnProperty(n)&&t[n]&&s.dispatchEvent(s.types.ACCESS_TOKEN_EXPIRED,{accessTokenInfo:t[n]});e._onReady()};if(e.isSingleLogOutEnabled()||!e.isSignedInUser())e.signInBasedOnSingleSignOnSSO(function(t){"no_cors"===t&&e.isSignedInUser()?I(e,i):n.callIfFunction(i,e)});else{var r=e.getAccessToken();n.removeKeyFromObject(t,e.getKeyForAccessToken(r)),e.testAccessTokenIsStillValid(r,i)}};h()&&(s.addEventListener(s.types.ACCESS_TOKEN_EXPIRED,function(t){_.call(e,"onAccessTokenHasExpired",[t.data.accessTokenInfo.access_token,t.data.accessTokenInfo])}),this.loadFromStorage(),n.isEmptyObject(this._profile)||this._callCallbacksToUpdateUI()),this._signInWhenRedirectedBackFromIMS(function(){e._isFinalRedirectPageInModalMode()?window.opener&&(window.opener.adobeIMS._importDataFromModalWindow(e),n.closeWindow()):(e.loadFromStorage(),e.hasJustReturnedFromAuthorize?this.isSignedInUser()?e._testAccessTokensAreStillValid():e.signInBasedOnSingleSignOnSSO(function(){e._testAccessTokensAreStillValid()}):e.isSignedInUser(!0)?e.testAccessTokenIsStillValid(e.getAccessToken(!0),i):i())})},_initOnDependencyLoad:function(){var e=this;a.onLoad(function(){e._initialize()})},addEventListener:function(e,t){s.addEventListener(e,t)},_onApiError:function(e){var t=n.cloneObject(this.errors.network);t.debug={url:e},this._onError(t)},_onError:function(e){s.dispatchEvent(s.types.ERROR,{error:e}),"function"!=typeof this.adobeid.onError&&("string"==typeof e.userMessage?u.info(e.userMessage):u.error("unhandled javascript error: "+JSON.stringify(e)),e.debug&&u.info(JSON.stringify(e.debug)))},_onReady:function(){if(!this.onReadyAlreadyCalled){this.onReadyAlreadyCalled=!0,this._callCallbacksToUpdateUI();var e={};e.userActionInfo=T(),e.isUserSignedIn=!e.userActionInfo.isRequired&&!!this.isSignedInUser(),s.dispatchEvent(s.types.READY,{signInState:e})}},setProfile:function(e,t){e&&!e.error_flag&&(this._profile=e,e?(p().setItem(A,JSON.stringify(this._profile)),this._removeAccessTokensIfDifferentUserId(e[L])):p().removeItem(A),!t&&this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI())},getUserProfile:function(){return this._profile},getUserPictureURL:function(){return this._profile?this._profile[L]?e.getAvatarUrl(this._profile[L]):(this._onError(this.errors.avatarPicture),""):""},getState:function(){return F||null},listSocialProviders:e.listSocialProviders,isSignedInUser:function(e,t,n){var o=this.getAccessTokenInfo(e,t,n);return o&&Date.now()<o.expiresAtMilliseconds?o:void 0},isReAuthentication:function(e){return e&&e.reauth},isReady:function(){return!!this.onReadyAlreadyCalled},isMandatorySignIn:function(){return!0===this.adobeid.is_mandatory_sign_in&&this.isModal()?(u.error("is_mandatory_sign_in can be enabled only in redirect mode"),!1):"boolean"==typeof this.adobeid.is_mandatory_sign_in&&this.adobeid.is_mandatory_sign_in},isSingleLogOutEnabled:function(){return"boolean"==typeof this.adobeid.uses_single_log_out?this.adobeid.uses_single_log_out:c.sloEnabled},isRefreshSSOCookiesEnabled:function(){return"boolean"==typeof this.adobeid.uses_refresh_sso_cookies?this.adobeid.uses_refresh_sso_cookies:c.refreshSsoCookiesEnabled},_getRedirectUri:function(e,t){var i="",r=n.merge(this.getAdobeIdApiParametersForApi(e),t);if(this.isModal())i=n.getBasePath(o.getHref())+U+"#"+R;else{i=r.redirect_uri?r.redirect_uri:this.adobeid.redirect_uri?this.adobeid.redirect_uri:o.getHref(),u.assert(!i.includes(O),"the redirect_uri mustn't already contain #from_ims");var s=n.getHashFromURL(i),a=i;s&&(a=a.substring(0,a.length-s.length)),i=a+"#"+R+"&old_hash="+encodeURIComponent(s)}return r.client_id&&(i+="&client_id="+encodeURIComponent(r.client_id)),r.scope&&(i+="&scope="+encodeURIComponent(r.scope)),e&&e.name&&(i+="&api="+encodeURIComponent(e.name)),i=this.updateRedirectUriForReAuthentication(i,r),n.isEmptyObject(this.contextToBePassedOnRedirect)||(i+="&"+C+"="+encodeURIComponent(JSON.stringify(this.contextToBePassedOnRedirect))),i},_signInBasedOnStoredCredentials:function(e){this.loadFromStorage(),n.isEmptyObject(this._accessTokensInfos)?(this._clearCredentials(),n.callIfFunction(e,this)):this.hasJustReturnedFromAuthorize?(this.hasJustReturnedFromAuthorize=!1,n.callIfFunction(e)):this.testSingleLogOutSLO(e)},_signInWhenRedirectedBackFromIMS:function(e){var t=this,i=n.getHashFromURL().substring(1);i=i.replace("%23access_token","#access_token").replace("%23expires_in","#expires_in").replace("%23error","#error").replace("?error","#error").replace("#","&");var r=n.getQueryParamsAsMap(i),s=r.access_token,a=r.api;a===c.api.authorize.name&&u.assert(s,"the authorize api must return an access_token");var l=!!r.reauth,f=r.client_id||this.getClientID(),p=r.scope||this.getScope(),h=r.expires_in,_=r.error,g=r[C];try{F=JSON.parse(r.state)}catch(e){F=r.state}this.contextPassedFromRedirect=g?{context:JSON.parse(g),access_token:s}:null,s&&h&&d.isFromIms(s)||"true"===r[O]&&a===c.api.logout.name||"true"===r[O]&&_?(o.setHash(r.old_hash||""),s?(this.hasJustReturnedFromAuthorize=!0,this._setAccessTokenAndGetProfile(s,l,f,p,h,null,function(){t.validateSSOCookieLifetime(s,e)})):(this._accessTokensInfos={},this._profile=null,_&&this._onError(this.errors.fromApiCallRedirect.setMessage(_)),e.call(this))):e.call(this)},signIn:function(t,o){this.contextToBePassedOnRedirect=o;var i=n.merge({},t);i.redirect_uri=this._getRedirectUri(c.api.authorize,i),this.version&&(i.jslibver=this.version);var r=e.getAuthorizeUrl(i);this.isModal()&&this._callCallbacksToUpdateUI(),this._openWindow(r,"create_account"===i.idp_flow?P.sign_up:P.sign_in)},signInBasedOnSingleSignOnSSO:function(e){var t=this;this.acquireAccessToken(e,function(o){m(o=o||{})?(y(o,t),n.callIfFunction(e,t)):o.jump?(u.info("jumping to "+o.jump),S(!0,o.jump),t.isModal()?t._clearCredentials():t._openWindow(o.jump,P.jump)):"ride_AdobeID_acct_evs"===o.error?(t._clearCredentials(),S(!0,null),t.isModal()||t.signIn()):"ride_AdobeID_acct_disabled"===o.error?t._invalidateTokens(Object.keys(t._accessTokensInfos),function(){t._clearCredentials({updateUI:!0}),S(!0,null),t.isModal()||t.signIn()}):"no_cors"===o.error?n.callIfFunction(e,t,["no_cors"]):(t._clearCredentials({updateUI:!0}),t.hasJustSingleLoggedOutSLO=!0,n.callIfFunction(e,t))})},signInWithSocialProvider:function(t,o){if(t){var i=n.merge({},o,{idp_flow:"social.deep_link.web",provider_id:t});i.redirect_uri=this._getRedirectUri(c.api.authorize,i);var r=e.getAuthorizeUrl(i);this._openWindow(r)}},reAuthenticate:function(e,t){var o=n.merge({reauth:"check",puser:this._profile&&this._profile.email?this._profile.email:void 0,eu:this._profile&&this._profile.email?"true":void 0},e);this.signIn(o,t)},updateRedirectUriForReAuthentication:function(e,t){return"string"==typeof e&&this.isReAuthentication(t)?(e.includes("reauth=")||(e=e+"&reauth="+t.reauth),e):e},signUp:function(e,t){this.isModal()&&this._callCallbacksToUpdateUI(),this.signIn(n.merge({idp_flow:"create_account"},e),t)},signOut:function(t){function o(o){if(o){var r=n.merge(i.getAdobeIdApiParametersForApi(c.api.logout),t);i.isModal()&&r.redirect_uri&&i.switchToRedirectMode();var s=e.getLogoutUrl(n.merge({access_token:o.access_token,redirect_uri:i._getRedirectUri(i.config.api.logout,t)},r));i._clearCredentials({updateUI:!0}),i._openWindow(s,P.sign_out)}else i._clearCredentials({updateUI:!0})}var i=this,r=Object.keys(this._accessTokensInfos);if(r.length){var s=this._accessTokensInfos[r.pop()];this._invalidateTokens(r,function(){o(s)})}else i._clearCredentials({updateUI:!0})},testSingleLogOutSLO:function(t){if(this.isSingleLogOutEnabled()){var o=this;e.checkStatus(function(e){!1===e.sso&&!1===e.remember_me?(o._clearCredentials({updateUI:!0}),o.hasJustSingleLoggedOutSLO=!0,n.callIfFunction(t,o)):o.signInBasedOnSingleSignOnSSO(t)})}else n.callIfFunction(t,this)},validateSSOCookieLifetime:function(e,t){n.callIfFunction(t,this)},_clearTimerTestSSOCookieWillExpire:function(){this._timerTestSSOCookieWillExpire&&(clearInterval(this._timerTestSSOCookieWillExpire),this._timerTestSSOCookieWillExpire=null)},_invalidateTokens:function(t,o){var i=this,r=t.length;r?t.forEach(function(t){e.logoutToken(i._accessTokensInfos[t].access_token,function(){0==--r&&n.callIfFunction(o)})}):n.callIfFunction(o)},_isAccessTokenInfoUsable:function(e){return e&&"string"==typeof e.access_token&&"string"==typeof e.client_id&&this.isKnownClientID(e.client_id)&&"string"==typeof e.scope&&"boolean"==typeof e.isReAuthentication&&"number"==typeof e.expires_in&&"number"==typeof e.expiresAtMilliseconds&&Date.now()<e.expiresAtMilliseconds},_removeAccessTokensIfDifferentUserId:function(e){if(e)for(var t in this._accessTokensInfos){var n=this._accessTokensInfos[t];n.user_id&&n.user_id!==e&&(this._clearCredentials({access_token:n.access_token,updateUI:!1}),u.info("Removed token because of different user_id (isReAuthentication="+n.isReAuthentication+")"))}},_setAccessTokenAndGetProfile:function(e,t,o,i,r,s,a){var c=this;r=+r;var l=s&&s[L];if(this._removeAccessTokensIfDifferentUserId(l),n.isEmptyObject(this._accessTokensInfos)&&this.loadFromStorage(),this.shouldAcceptTheToken(e,o,i,l,!0,t)){var d=this.getAccessTokenSessionStorageKey(t,o,i),u=Date.now();this._accessTokensInfos[d]={access_token:e,client_id:o,user_id:l,scope:i,expires_in:r,createdAtMilliseconds:u,expiresAtMilliseconds:u+r,isReAuthentication:t},f(t).setItem(d,JSON.stringify(this._accessTokensInfos[d])),this.onReadyAlreadyCalled&&this._callCallbacksToUpdateUI(),s?n.callIfFunction(a,c):I(c,e,a)}else n.callIfFunction(a,c)},_testAccessTokensAreStillValid:function(){var e,t=0;for(e in this._accessTokensInfos)++t;var n=this;if(t>0)for(e in this._accessTokensInfos)n.testAccessTokenIsStillValid(this._accessTokensInfos[e].access_token,function(){0==--t&&n._onReady()});else n._onReady()},acquireAccessToken:function(t,o){var i=this;i.autoRefreshTimeout&&window.clearTimeout(i.autoRefreshTimeout);var r={redirect_uri:this._getRedirectUri(e.apiEndpoints.check),client_id:this.getClientID(e.apiEndpoints.check),scope:this.getScope(e.apiEndpoints.check)};e.checkToken(r,function(e){var o=n.cloneObject(e);n.removeKeyFromObject(o,"access_token"),n.removeKeyFromObject(o,"expires_in"),n.removeKeyFromObject(o,"token_type"),i.setProfile(o),i._setAccessTokenAndGetProfile(e.access_token,!1,r.client_id,r.scope,e.expires_in,o,t),i.autoRefreshAccessToken()},o)},decodeAccessToken:d.decode,getAccessToken:function(e,t,n){var o=this.getAccessTokenInfo(e,t,n);return o?o.access_token:null},getAccessTokenInfo:function(e,t,n){var o=this.getAccessTokenSessionStorageKey(e,t,n),i=this._accessTokensInfos[o];return i?f(i.isReAuthentication).getItem(o)?i:(this._clearCredentials({access_token:i.access_token}),null):null},getAccessTokenSessionStorageKey:function(e,t,n){return[w,t||this.getClientID(),!!e,n||this.getScope()].join(E)},getContextFromRedirectForAccessToken:function(e){if(this.contextPassedFromRedirect&&this.contextPassedFromRedirect.access_token===e){var t=this.contextPassedFromRedirect.context;return this.contextPassedFromRedirect=null,t}return null},getKeyForAccessToken:function(e){for(var t in this._accessTokensInfos)if(e===this._accessTokensInfos[t].access_token)return t;return u.assert(!1,"unknown access_token for key: "+t),null},hasTokenButItHasExpired:function(e,t,n){var o=this.getAccessTokenInfo(e,t,n);return o&&Date.now()>o.expiresAtMilliseconds?o:void 0},loadFromStorage:function(){var e=this;this._accessTokensInfos={};var t=function(t){for(var n in t.keys?t.keys():t)if(n.startsWith(w))try{var o=JSON.parse(t.getItem(n));if(!e.isKnownClientID(o.client_id))continue;e._isAccessTokenInfoUsable(o)?e._accessTokensInfos[n]=o:(u.info("unusable access token info: "+t.getItem(n)),t.removeItem(n))}catch(e){t.removeItem(n)}};t(f(!1)),t(f(!0)),this._profile=JSON.parse(p().getItem(A))},shouldAcceptTheToken:function(e,t,n,o,i,r){var s=!0;return[{shouldReject:!1===i,shouldLogToErrorConsole:!1,message:"access_token is invalid."},{shouldReject:!0===i&&o&&this._profile&&o!==this._profile[L],shouldLogToErrorConsole:!1,message:"access_token was from another userId (isReAuthentication=#0).".replace("#0",r)},{shouldReject:!0===i&&!this.isKnownClientID(t),shouldLogToErrorConsole:!0,message:"the #0 client_id associated with the access token is not for a known client_id (#1).".replace("#0",t).replace("#1",Object.keys?Object.keys(c.api.authorize.endpoint).join(","):this.getClientID())},{shouldReject:!0===i&&!this.matchesTheRequiredScope(n),shouldLogToErrorConsole:!0,message:"the (#0) scope associated with the access token doesn't match the required scope (#1).".replace("#0",n).replace("#1",this.getScope())},{shouldReject:!e,shouldLogToErrorConsole:!0,message:"no access token."}].forEach(function(e){e.shouldReject&&(s=!1,(e.shouldLogToErrorConsole?u.error:u.info)("shouldAcceptTheToken: "+e.message))}),s},testAccessTokenIsStillValid:function(t,o){var i=this,r=this._accessTokensInfos[this.getKeyForAccessToken(t)];u.assert(r,"we need token information to validate it");var s=function(e){if(e.token&&i.shouldAcceptTheToken(t,e.token.client_id,e.token.scope,e.token.user_id,e.valid,r.isReAuthentication))o();else{u.info("validate/token: access_token is invalid. removing."),i._clearCredentials({updateUI:i.onReadyAlreadyCalled,access_token:t});try{e.token&&i.isKnownClientID(e.token.client_id)&&i.matchesTheRequiredScope(e.token.scope)&&n.callIfFunction(i.adobeid.onAccessTokenHasExpired,i.adobeid,[t,r])}catch(e){i._onError(i.errors.jsException.setException(e,"adobeid.onAccessTokenHasExpired"))}r.isReAuthentication?o():i.signInBasedOnSingleSignOnSSO(function(){!i.isSignedInUser()&&i.isMandatorySignIn()&&i.signIn(),o()})}};r&&this.isKnownClientID(r.client_id)?e.validateToken(r,s):s({valid:!1})},autoRefreshMaxDate:null,autoRefreshTimeout:null,autoRefreshAccessToken:function(){var e=this;this.autoRefreshMaxDate||(this.autoRefreshMaxDate=Date.now()+108e5),"LightroomMobileWeb1"===this.getClientID()&&this.autoRefreshMaxDate>Date.now()&&(this.autoRefreshTimeout=window.setTimeout(function(){e.acquireAccessToken()},84e4))},_importDataFromModalWindow:function(e){if(n.isEmptyObject(e._accessTokensInfos))this._clearCredentials({updateUI:!0});else{this.contextPassedFromRedirect=n.cloneObject(e.contextPassedFromRedirect),F=e.getState(),n.equals(e._profile,this._profile)||n.isEmptyObject(e._profile)||this.setProfile(n.cloneObject(e._profile),!0);for(var t in e._accessTokensInfos)if(!n.equals(e._accessTokensInfos[t],this._accessTokensInfos[t])){var o=n.cloneObject(e._accessTokensInfos[t]);this._accessTokensInfos[t]=o,f(o.isReAuthentication).setItem(t,JSON.stringify(o)),this.validateSSOCookieLifetime(this._accessTokensInfos[t].access_token)}this._callCallbacksToUpdateUI(),e.isSignedInUser(!0)&&!this.isSignedInUser(!1)&&this.signInBasedOnSingleSignOnSSO()}},_isFinalRedirectPageInModalMode:function(){return o.getHref().includes(U)&&window.opener&&window.opener!==window},isModal:function(){return!!this._isFinalRedirectPageInModalMode()||(!0===this.adobeid.uses_modal_mode&&!0===this.adobeid.uses_redirect_mode?(u.error("redirect mode and modal mode both enabled"),!0):"boolean"==typeof this.adobeid.uses_modal_mode?this.adobeid.uses_modal_mode:!1===this.adobeid.uses_redirect_mode)},switchToModalMode:function(){this.adobeid.uses_modal_mode=!0,this.adobeid.uses_redirect_mode=!1},switchToRedirectMode:function(){this.adobeid.uses_modal_mode=!1,this.adobeid.uses_redirect_mode=!0},getLocale:e.getLocale,getReleaseFlags:function(t,o){null===N?e.getReleaseFlags(this.getAccessToken(),function(e,o){D=o||null,N=e||null,n.callIfFunction(t,null,[e,o])},o):n.callIfFunction(t,null,[N,D])},isReleaseFlagActive:function(e){return!!D&&"1"===D[e]},getScope:e.getScope,matchesTheRequiredScope:function(e){var t=n.String_hasContent(e);if(!t)return u.assert(t,"scopeToValidate must be a non empty string for matchesTheRequiredScope"),!1;var o=this.sunbreakHack(n.String_withoutWhitespaces(e)).split(",");return this.sunbreakHack(this.getScope()).split(",").every(function(e){return o.includes(e)})},sunbreakHack:function(e){return e.replace(c.sunbreakScope,c.sunbreakScopeExpanded)},getClientID:e.getClientId,isKnownClientID:function(e){return e in c.api.authorize.endpoint},_ajaxGet:function(e,t,o){var r=this,s=function(o,i){if(o){var s=n.cloneObject(r.errors.network);s.debug={url:e},r._onError(s)}else t.call(r,i)};"jsonp"!==o&&i.corsSupported?i.corsGet(e,null,null,s):i.jsonp(e,{},s)},getAdobeIdApiParametersForApi:e.getApiParameters,getUrlForApiCall:function(t,n,o){return 2===arguments.length&&(o=arguments[1],n=null),e.getApiUrlWithQuery(t,o,n)},makeApiCall:function(t,n,o,i){return 3===arguments.length&&(i=arguments[2],o=arguments[1],n=null),e.makeApiCall({api:t,apiVersion:n,params:o,forceJsonp:!0},i)},_clearCredentials:function(e){var t;if(e&&e.access_token)t=this.getKeyForAccessToken(e.access_token),f(!1).removeItem(t),f(!0).removeItem(t),n.removeKeyFromObject(this._accessTokensInfos,t);else{for(t in this._accessTokensInfos)t.startsWith(w)&&f(this._accessTokensInfos[t].isReAuthentication).removeItem(t);this._accessTokensInfos={},p().removeItem(A),this._profile=null,this._clearTimerTestSSOCookieWillExpire()}e&&!0===e.updateUI&&this._callCallbacksToUpdateUI(e)},_callCallbacksToUpdateUI:function(e){if(this._last_ui_update.areThereUIUpdatesToPerform()){var t=n.cloneObject(this._last_ui_update);if(this._last_ui_update.update(),t.areThereUIUpdatesToPerformForProfile()&&s.dispatchEvent(s.types.PROFILE,{profile:this._profile}),t.areThereUIUpdatesToPerformForAccessTokens())if(e&&e.access_token){var o=this._accessTokensInfos[this.getKeyForAccessToken(e.access_token)];s.dispatchEvent(s.types.ACCESS_TOKEN,{accessTokenInfo:o})}else for(var i in this._accessTokensInfos)n.equals(this._accessTokensInfos[i],t._accessTokensInfos[i])||s.dispatchEvent(s.types.ACCESS_TOKEN,{accessTokenInfo:this._accessTokensInfos[i]})}},_openWindow:function(e,t){if(this.isModal()){var n=Math.min(t&&t.width||P.any.width,screen.availWidth),i=Math.min(t&&t.height||P.any.height,screen.availHeight);b(e,{width:n,height:i,left:parseInt((screen.availLeft?screen.availLeft:0)+Math.max(0,screen.availWidth-n)/2),top:parseInt((screen.availTop?screen.availTop:0)+Math.max(0,screen.availHeight-i)/2),toolbar:!1,menubar:!1,scrollbars:!0,resizable:!0})||this._onError({error:"popupBlocked",popupUrl:e})}else o.setHref(e,!this.isMandatorySignIn());this.contextToBePassedOnRedirect=null},toggleLogging:u.toggleLogging},H),function(){var o=this;this.adobeid=t,this._accessTokensInfos={},this._profile=null,this._is_already_attached_to_ui=!1,this._last_ui_update={_any_update_so_far:!1,_accessTokensInfos:{},_profile:null,update:function(){this._any_update_so_far=!0,this._accessTokensInfos=n.cloneObject(o._accessTokensInfos),this._profile=n.cloneObject(o._profile)},areThereUIUpdatesToPerformForAccessTokens:function(){return!this._any_update_so_far||!n.equals(this._accessTokensInfos,o._accessTokensInfos)},areThereUIUpdatesToPerformForProfile:function(){return!this._any_update_so_far||!n.equals(this._profile,o._profile)},areThereUIUpdatesToPerform:function(){return this.areThereUIUpdatesToPerformForProfile()||this.areThereUIUpdatesToPerformForAccessTokens()}},e.setGlobalErrorHandler(function(){o._onApiError.apply(o,arguments)})}.call(H),H},e.alertMessages=function(){"use strict";return{dev:{adobeid:"Please declare the adobeid variable before loading the Javascript file for the IMS SDK",both_modal_and_redirect:"Error: you can't have both adobeid.uses_modal_mode and adobeid.uses_redirect_mode set to true.",client_id_missing:"Error: the ClientID is missing.",api_calls_only_https:"Error: the API calls must be made only through HTTPS.",mandatory_sign_in_only_in_redirect:"is_mandatory_sign_in only works in full web redirect mode.",scope_doesnt_ask_for_userId_from_profile:"The provided scopes don't ask for the userId from the user's profile",client_id_missing_from_query:'Please add the "#client_id#" to the comma separated list that is the client_id query parameter',load_the_sdk_only_once:"Please load the Javascript SDK only once."},user:{allow_pop_up_window:"The browser's pop-up blocker has stopped a window from opening. To be able to sign-in, please use the browser's UI (in the address bar) to allow the window to be opened. Thank you.",adobeid:"Please declare the adobeid variable before loading the Javascript file for the IMS SDK",api_calls_only_https:"Error: the API calls must be made only through HTTPS.",both_modal_and_redirect:"Error: you can't have both adobeid.uses_modal_mode and adobeid.uses_redirect_mode set to true.",client_id_missing:"Error: the ClientID is missing.",client_id_missing_from_query:'Please add the "#client_id#" to the comma separated list that is the client_id query parameter',load_the_sdk_only_once:"Please load the Javascript SDK only once.",mandatory_sign_in_only_in_redirect:"is_mandatory_sign_in only works in full web redirect mode.",scope_doesnt_ask_for_userId_from_profile:"The provided scopes don't ask for the userId from the user's profile",network_error:"A network error has occurred. Are you connected to the internet?"}}},e.analytics=function(e,t){"use strict";var n=[],o=[],i={},r=function(e){var t=e;n.includes(e)&&(t=n.indexOf(e),o.includes(t)||(o.push(t),o.sort(function(e,t){return e-t}),s().setItem("jslMethods",o.join("+"))))},s=function(){return e.session},a=function(){var e=s().getItem("jslMethods");return e=e?e.split("+").map(function(e){return parseInt(e,10)}):[]};return{getMethods:function(){return t?o:[]},trackObject:function(e){if(t){o=a();for(var s in e)e.hasOwnProperty(s)&&"function"==typeof e[s]&&(n.push(s),i[s]=e[s],function(){var t=s;e[t]=function(){return r(t),i[t].apply(e,arguments)}}())}}}},e.base32=function(){"use strict";function e(e,t,n){var o=t-n.length;return o>0&&(n=Array(o+1).join(e)+n),n}function t(t){return e("0",5,t.toString(2))}function n(e){if(e.length%8!=0)throw Error("Data length is not a multiple of 8");e.forEach(function(e){if(!(e in i))throw Error("Unknown encoded character "+e)});var t=!1;e.forEach(function(e){if("="!==e&&t)throw Error("Found padding char in the middle of the string");"="===e&&(t=!0)})}function o(e){for(var t=e.length-1,n=0;"="===e[t];)++n,--t;return n}var i={"=":0};return"abcdefghijklmnopqrstuvwxyz234567".split("").forEach(function(e,t){i[e]=t}),{decodeToBitstring:function(e){if("string"!=typeof e)throw Error("Data is not a string");var r=e.toLowerCase().split("");n(r);var s=o(r),a=[];r.forEach(function(e){a.push(t(i[e]))});var c=a.join("");return s>0&&(c=c.slice(0,-5*s)),c.length%8!=0&&(c=c.slice(0,c.length%8*-1)),c}}},e.build={hosts:{services:"https://adobeid-na1.services.adobe.com/ims",login:"https://ims-na1.adobelogin.com/ims"},methodTrackingEnabled:!1,sha:"eb54245",version:"1.12.0"},e.config=function(t,n,o,i){"use strict";function r(){var e=o.getThisScriptSrc(),t=/\bclient_id=([^&]+)\b/.exec(e);return t?t[1].split(","):[]}function s(){var e=o.getThisScriptSrc(),t=/\blocale=([^&]+)\b/.exec(e);return t?t[1]:""}n.debug&&i.toggleLogging(!0);var a=r();return a&&0!==a.length||(a=n.client_id),{api:e.config.$$api(t,a,n),client_id:n.client_id?Array.isArray(n.client_id)?n.client_id[0]:n.client_id:(i.info("Missing window.adobeid.client_id. Falling back to client_id from url. Please add client_id to window.adobeid"),r()[0]),locale:n.locale?n.locale:(i.info("Missing window.adobeid.locale. Falling back to locale from url. Please add locale to window.adobeid"),s()),refreshSsoCookiesEnabled:!1,sloEnabled:!0,sunbreakScope:"acct_mgmt_webui",sunbreakScopeExpanded:"acct_mgmt_api,gnav,update_profile.address.mail_to,update_profile.dob,update_profile.email,update_profile.first_name,update_profile.industry,update_profile.job_function,update_profile.job_title,update_profile.last_name,update_profile.mrktPerm,update_profile.password,update_profile.phoneNumber,update_profile.phonetic_name,update_profile.preferred_languages,update_profile.screen_name,update_profile.secondary_email"}},e.config.$$api=function(t,n,o){"use strict";var i=e.endpoints(t,o);Array.isArray(n)||(n=[n]);var r={version:{v1:"v1"}};for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],c={name:a.name,endpoint:{}};r[s]=c;for(var l=0,d=n.length;l<d;++l){var u=n[l];c.endpoint[u]=a.endpoint}}return r},e.endpoints=function(e,t){"use strict";if((t=t||{}).uses_slo||(t.uses_slo=!1),!e||!e.login||!e.services)throw Error("Hosts are not defined or incomplete: "+JSON.stringify(e));return{authorize:{name:"authorize",endpoint:e.login+"/authorize/v1"},avatar:{name:"avatar/download",endpoint:e.login+"/avatar/download"},check:{name:"check/token",endpoint:(t.uses_slo?e.login:e.services)+"/check/${ version }/token"},check_status:{name:"check/status",endpoint:(t.uses_slo?e.login:e.services)+"/check/v1/status"},logout:{name:"logout",endpoint:(t.uses_slo?e.login:e.services)+"/logout/v1"},logout_token:{name:"logout_token",endpoint:(t.uses_slo?e.login:e.services)+"/logout/v1/token"},profile:{name:"profile",endpoint:e.login+"/profile/v1"},validate_token:{name:"validate_token",endpoint:e.login+"/validate_token/v1"},userinfo:{name:"userinfo",endpoint:e.login+"/userinfo/v1"},fg_value:{name:"fg_value",endpoint:e.services+"/fg/value/v1"},social_providers:{name:"social_providers",endpoint:e.services+"/social/v1/providers"}}},e.events=function(){"use strict";var e="imslib",t={PROFILE:"profile",ACCESS_TOKEN:"accesstoken",ACCESS_TOKEN_EXPIRED:"accesstokenexpired",READY:"ready",ERROR:"error"},n={};return{addEventListener:function(e,t){var o=n[e]||[];n[e]=o,o.push(t)},dispatchEvent:function(e,t){var o=n[e];if(this.triggerEvent(e,t),o)for(var i={type:e,data:t},r=0,s=o.length;r<s;++r)"function"==typeof o[r]&&o[r](i)},domEventNames:function(){var n={};return Object.keys(t).forEach(function(o){n[o]=e+"."+t[o]}),n}(),triggerEvent:function(t,n){if(window.addEventListener){var o=document.createEvent("Event"),i=e+"."+t;o.initEvent(i,!0,!0),n&&(o.data=n),document.dispatchEvent(o)}},types:t}},e.http=function(e,t,n,o){"use strict";var i=function(e){var t="",n=!0;for(var o in e)if(e.hasOwnProperty(o)&&void 0!==e[o]){var i,r=encodeURIComponent(o),s=e[o];i=null===s?"null":"object"==typeof s?encodeURIComponent(JSON.stringify(s)):encodeURIComponent(s),t+=(n?"":"&")+r+"="+i,n=!1}return t},r=function(e,t){if(e){var n=i(e);return n&&(n=t&&-1!==t.indexOf("?")?"&"+n:"?"+n),n}return""},s=function(e){e+=r(t,e);var o=n.getMethods();return o.length&&(e+="&jslMethods="+o.join("+")),e},a={POST:"POST",GET:"GET"},c={JSON:"application/json",URI:"application/x-www-form-urlencoded"},l=!!XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,d=function(e,t,n,o,i,r){var a=new XMLHttpRequest;if(t=s(t),a.onreadystatechange=function(){a.readyState===a.DONE&&r(a.status,a.responseText,a)},a.open(e.toUpperCase(),t,!0),i)for(var c in i)i.hasOwnProperty(c)&&a.setRequestHeader(c,i[c]);a.withCredentials=o,a.send(n)},u=function(e,t,n,o){e+=r(n,e),d("GET",e,null,!0,t,o)},f=function(e,t,n,o,r){if(t=t||{},n){switch(o){case c.JSON:n=JSON.stringify(n);break;case c.URI:n=i(n);break;default:throw Error("Unknown encoding "+o)}t["Content-Type"]=o}d("POST",e,n,!0,t,r)};return{buildQueryString:r,jsonp:function(t,n,i){n=n||{};var a=window._adobeIMSJSONPCallbacks;a||(a=window._adobeIMSJSONPCallbacks={});var c="_"+e.createRandomString();n.callback="window._adobeIMSJSONPCallbacks."+c,t+=r(n,t),t=s(t);var l=document.createElement("script");l.src=t,l.async=!0,l.type="text/javascript";var d=e.getDocumentHead();a[c]=function(t){e.isDebugMode&&o.info("api call response: "+JSON.stringify(t)),i(!1,t),e.removeKeyFromObject(a,c)};var u=function(){d.removeChild(l)};e.addEventListener(l,"load",u),e.addEventListener(l,"error",function(){i(!0,null),u()}),d.appendChild(l)},corsGet:u,corsPost:f,cors:function(e,t,n,o,i,r){switch(i=i||c.URI,e.toUpperCase()){case"GET":u(t,n,o,r);break;case"POST":f(t,n,o,i,r);break;default:throw Error("Unknown HTTP method "+e)}},corsSupported:l,Method:a,DataEncoding:c}},e.imsApis=function(e,t,n,o,i,r,s,a){"use strict";function c(){"function"==typeof I&&I.apply(null,arguments)}function l(e){if(!(e&&e.name&&n.api_parameters))return{};for(var t in n.api_parameters)if(e.name.includes(t))return n.api_parameters[t];return{}}function d(e,t){if(t&&t.client_id)return t.client_id;var o=l(e);return o&&o.client_id?o.client_id:n.client_id?Array.isArray(n.client_id)?n.client_id[0]:n.client_id:r}function u(){return n.locale||s}function f(e,n,o){return 2!==arguments.length&&o||(o={}),o.client_id||(o.client_id=d()),t.merge(o,l(e),n)}function p(e,o){var i="AdobeID,openid";if(o&&o.scope)i=o.scope;else{var r=l(e);r&&r.scope?i=r.scope:n.scope&&(i=n.scope)}return t.String_withoutWhitespaces(i)}function h(e,t,n){n||(n=d(e));var o=e.endpoint[n];return o?(o.includes("${ version }")?o=o.replace("${ version }",t||"v1"):t&&(o+="/"+t),o):(a.info("No url found for api "+e.name+" for client "+n),"")}function _(t,n,o,i){!i&&n&&(i=n.client_id);var r=h(t,o,i);return r?r+e.buildQueryString(n,r):""}function g(){var t=!0;return n.optimizations&&"useCORS"in n.optimizations&&(t=!!n.optimizations.useCORS),e.corsSupported&&t}function m(n,o,i){var r=t.cloneObject(n.params)||{};r.client_id||(r.client_id=d(n.api));var s=h(n.api,n.apiVersion,r.client_id),a=n.method||e.Method.GET,c={};n.bearerToken&&(c[y.AUTHORIZATION]="Bearer "+n.bearerToken),c[y.X_IMS_CLIENT_ID]=r.client_id,e.cors(a,s,c,r,e.DataEncoding.URI,function(e,t,n){429===e?i({error:b.RATE_LIMITED,retryAfter:window.parseInt(n.getResponseHeader(y.RETRY_AFTER),10)}):t?(t=JSON.parse(t)).error_flag||t.error?i(t):o(t):i(null)})}function v(n,o,i){var r=t.cloneObject(n.params),s=h(n.api,n.apiVersion,r.client_id);n.bearerToken&&(r.bearer_token=n.bearerToken),e.jsonp(s,r,function(e,t){e||t.error_flag||t.error?i(t):o(t)})}function k(e,t,n){if(!e)throw Error("No config object provided");if(!e.api)throw Error("No `config.api` provided");n=n||c,g()?m(e,t,n):v(e,t,n)}var I,y={AUTHORIZATION:"Authorization",X_IMS_CLIENT_ID:"X-IMS-ClientId",RETRY_AFTER:"Retry-after"},b={NO_CORS:"no_cors",RATE_LIMITED:"rate_limited"};return{getApiUrlWithQuery:_,getApiUrl:h,makeApiCall:k,validateToken:function(t,n,i){var r=f(o.validate_token,{token:t.access_token,client_id:t.client_id,typeof:"access_token"});k({api:o.validate_token,params:r,method:e.Method.POST},n,i)},checkStatus:function(e,t){var n=f(o.check_status);k({api:o.check_status,params:n},e,t)},checkToken:function(t,n,i){t=f(o.check,t,{scope:p(),locale:u()});g()?k({api:o.check,apiVersion:"v4",method:e.Method.POST,params:t},function(e){e.jump?i(e):n(e)},i):i({error:b.NO_CORS})},getProfile:function(e,t,i){var r=f(o.profile);k({api:n.openidCompatible?o.userinfo:o.profile,bearerToken:e,params:r},t,i)},logoutToken:function(t,n,i){var r=f(o.logout_token,{access_token:t});i=i||c;var s=function(e){e&&e.error?i(e):n(e)};k({api:o.logout_token,method:e.Method.POST,params:r},s,s)},getReleaseFlags:function(e,n,r){var s=f(o.fg_value,{client_id:d(o.fg_value)});k({api:o.fg_value,params:s,bearerToken:e},function(e){e&&""!==e?n(e,t.bitstringToLSB(i.decodeToBitstring(e.releaseFlags))):t.callIfFunction(r,null,[null])},r)},getAvatarUrl:function(e){return h(o.avatar)+"/"+e},getAuthorizeUrl:function(e){return e=f(o.authorize,e,{response_type:"token",client_id:d(),scope:p(),locale:u()}),_(o.authorize,e)},getLogoutUrl:function(e){return e=f(o.logout,e,{locale:u()}),_(o.logout,e)},listSocialProviders:function(e,t){var n=f(o.social_providers,{client_id:d()});k({api:o.social_providers,params:n},function(t){var n=[];Array.isArray(t)&&t.forEach(function(e){n.push(e.providerName)}),e(n)},t)},apiEndpoints:o,getApiParameters:l,getClientId:d,getLocale:u,getScope:p,setGlobalErrorHandler:function(e){I=e},Errors:b}},e.location=function(){"use strict";return{getHref:function(){return window.location.href},setHref:function(e,t){t?window.location.href=e:window.location.replace(e)},getHash:function(){return window.location.hash},setHash:function(e){window.location.hash=e}}},e.log=function(){"use strict";var e=!1,t=function(){e&&window.console&&window};return{assert:function(){t()},error:function(){t()},info:function(){t()},toggleLogging:function(t){"boolean"==typeof t&&(e=t)}}},e.optimizations=function(t,n,o){"use strict";if(!1!==(t=t||{}).enable)for(var i in e.optimizations)e.optimizations.hasOwnProperty(i)&&"function"==typeof e.optimizations[i]&&e.optimizations[i].call(null,t,n,o)},e.optimizations.$$prefetchSuSi=function(e,t,n){"use strict";if(!1!==e.prefetchSuSi){var o=function(){if(!t.isSignedInUser()){var e=t.getUrlForApiCall(t.config.api.authorize,{client_id:t.getClientID()}),n=/^(https?:\/\/.+?)\//.exec(e)[1]+"/favicon.ico?cache_bust="+Math.random().toString(16).slice(2),o=document.createElement("link");o.setAttribute("rel","prefetch"),o.setAttribute("href",n),document.getElementsByTagName("head")[0].appendChild(o)}};t.isReady()?o():t.addEventListener(n.types.READY,o)}},e.storage=function(t,n){"use strict";function o(o){return e.storage.$$isPolyfillNeeded(o,t,n)?(n.info("Polyfilled "+o+". All values are stored in Memory."),new(e.storage.$$polyfill(t))):window[o]}return{session:o("sessionStorage"),local:o("localStorage")}},e.storage.$$isPolyfillNeeded=function(e,t,n){"use strict";try{var o=window[e]}catch(t){return n.info(e+" disabled"),!0}if(null===o||void 0===o)return!0;try{return o.setItem("isStoragePolyfillNeeded",!0),"true"!==o.getItem("isStoragePolyfillNeeded")?!0:(o.removeItem("isStoragePolyfillNeeded"),!1)}catch(e){return!0}},e.storage.$$polyfill=function(e){"use strict";return function(){var t={};return{length:0,clear:function(){t={},this.length=0},getItem:function(e){var n=t[e];return void 0===n?null:n},keys:function(){return t},removeItem:function(n){t.hasOwnProperty(n)&&(e.removeKeyFromObject(t,n),--this.length)},setItem:function(e,n){t.hasOwnProperty(e)||++this.length,t[e]=n+""}}}},e.susiButtons=function(e,t){"use strict";function n(e,n,i){var r=document.querySelectorAll(o.replace("%action%",e)),s=function(){n.call(i)};NodeList.prototype.forEach||(r=Array.prototype.slice.call(r)),r.forEach(function(e){t.addEventListener(e,"click",s)})}var o='[data-adobeid-action="%action%"]',i=!1;return{attachListeners:function(){var o=function(){i||(i=!0,n("signin",e.signIn,e),n("signup",e.signUp,e),n("signout",e.signOut,e),n("reauthenticate",e.reAuthenticate,e))};"complete"===window.document.readyState||"loaded"===window.document.readyState?o():(t.addEventListener(window.document,"DOMContentLoaded",o),t.addEventListener(window,"load",o))}}},e.token=function(){"use strict";var e=function(e){if(!t(e))return null;var n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");try{return JSON.parse(atob(n))}catch(e){return null}},t=function(e){return"string"==typeof e&&e.length>=5&&3===e.split(".").length};return{decode:e,isFromIms:function(t){var n=RegExp(/^ims-/),o=e(t);return!!o&&!!(o.as&&n.test(o.as)&&o.client_id&&o.created_at&&o.expires_in&&o.id&&o.moi&&o.scope&&o.type)}}},e.utils=function(e,t){"use strict";function n(){var e=document.querySelector('script[src*="imslib.min.js"]');return e||(e=document.querySelector('script[src*="imslib.js"]')),e?e.src:""}function o(e){return e&&"function"==typeof e}function i(e,t){try{delete e[t]}catch(n){e[t]=void 0}}function r(e,t){if(null===e)return null===t;if(null===t)return null===e;if(typeof e!=typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}if("object"==typeof e){var o;for(o in e)if(!(o in t&&r(e[o],t[o])))return!1;for(o in t)if(!(o in e))return!1;return!0}return e===t}function s(e){if(null===e)return null;if("object"!=typeof e)return e;var n;if(Array.isArray(e))n=[],e.forEach(function(e){n.push(s(e))});else{n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=s(e[o]))}return t.assert(r(e,n),"cloned object has failed for "+JSON.stringify(e)),n}function a(e){var t=document.createElement("a");t.href=e;var n=t.protocol.replace(":",""),o={http:80,https:443},i=t.host;return o[n]&&(i=i.replace(RegExp(":"+o[n]+"$"),"")),{protocol:n,host:i,query:t.search,hash:t.hash.replace("#",""),path:("/"+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)).replace("//","/")}}function c(){for(var e={},t=0;t<arguments.length;++t){var n=arguments[t];if("object"==typeof n)for(var o in n){var r=n[o];void 0!==r?e[o]="object"!=typeof r||null===r?r:c(e[o]||{},r):i(e,o)}}return e}var l=n();return l&&t.info("loaded from "+l),{bitstringToLSB:function(e){var t="";if(e.length%8!=0)throw Error("Length must be a multiple of 8");for(var n=0,o=e.length;n<o;n+=8)t+=e.slice(n,n+8).split("").reverse().join("");return t},String_hasContent:function(e){return"string"==typeof e&&e.length>0},String_withoutWhitespaces:function(e){return e.replace(/\s/g,"")},parseUrl:a,getBasePath:function(e){var t=a(e);return t.protocol+"://"+t.host+t.path},getHashFromURL:function(t){!t&&e&&(t=e.getHref());var n=t.indexOf("#");return-1!==n?t.substring(n):""},getQueryParamsAsMap:function(e){var t={};return(e=e.replace(/^(#|\?|&)/,"")).split("&").forEach(function(e){if(e.length){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}}),t},isFunction:o,callIfFunction:function(e,t,n){return o(e)?e.apply(t,n||[]):null},merge:c,removeKeyFromObject:i,cloneObject:s,equals:r,isEmptyObject:function(e){return!e||r(e,{})},getDocumentHead:function(){if(document.head)return document.head;var e=document.getElementsByTagName("head");return e&&e.length?e[0]:null},addEventListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},openPopup:function(e,t,n){return window.open(e,t,n)},closeWindow:function(){window.close()},getThisScriptSrc:n,createRandomString:function(){var e=Math.random().toString(16);return e.slice(e.indexOf(".")+1)}}},e.vendors=function(){"use strict";var t={},n={json:"https://static.adobelogin.com/renga-idprovider/resources/js/json2-min.js"},o=e.vendors.$$neededVendors(),i=function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,"function"==typeof t&&(n.onload=function(){window.setTimeout(t,1)}),(document.head||document.getElementsByTagName("head")[0]).appendChild(n)},r=!1,s=[],a=function(){if(!o.isJSONNeeded||r)for(var e=s.shift();e;)e(t),e=s.shift()};return t.onLoad=function(e){s.push(e),window.setTimeout(a,0)},o.isJSONNeeded&&function(e){i(n.json,e)}(function(){r=!0,a()}),t},e.vendors.$$neededVendors=function(){"use strict";return{isJSONNeeded:!(window.JSON&&"function"==typeof window.JSON.stringify)}},e.bootstrap=function(){"use strict";var t=e.build,n=e.alertMessages(),o=e.events(),i=e.location(),r=e.log(),s=e.token(),a=e.vendors(),c=e.utils(i,r),l=e.adobeid(c,r),d=e.storage(c,r),u=e.analytics(d,t.methodTrackingEnabled),f=e.base32(c),p=e.config(t.hosts,l,c,r),h=e.http(c,{jslClient:p.client_id,jslVersion:t.sha},u,r,p),_=e.imsApis(h,c,l,p.api,f,p.client_id,p.locale,r);window.adobeIMS=e.adobeIMS(_,l,c,i,h,d,o,a,p,u,s,r),window.adobeIMS.version=t.version;var g=e.susiButtons(window.adobeIMS,c);e.optimizations(l.optimizations,window.adobeIMS,o),window.adobeIMS.config=p,window.adobeIMS.IMSAPIs=p.api,window.AdobeIMSStrings=n,window.adobeIMS._initOnDependencyLoad(),g.attachListeners()},e.bootstrap()}({});
//# sourceMappingURL=imslib.min.js.map